@* 
    Reusable Vault Item Card Component
    
    Displays a credential item with icon, name, label, email, URL, and timestamp
*@

<div class="item-card" @onclick="HandleClick">
    <!-- Left Side: Icon, Name, Label, Email -->
    <div class="item-left">
        <div class="item-icon">
            @* TODO: Replace with dynamic favicon/icon based on URL *@
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </div>
        <div class="item-info">
            <div class="item-name-row">
                <h3 class="item-name">@Name</h3>
                @if (!string.IsNullOrEmpty(Label))
                {
                    <span class="item-label">@Label</span>
                }
            </div>
            <p class="item-username">@Username</p>
        </div>
    </div>
    
    <!-- Right Side: URL and Timestamp -->
    <div class="item-right">
        @if (!string.IsNullOrEmpty(Url))
        {
            <div class="item-url">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H16C17.1046 20 18 19.1046 18 18V14M14 4H20M20 4V10M20 4L10 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>@Url</span>
            </div>
        }
        <div class="item-date">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                <path d="M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>@CreatedAt</span>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Name { get; set; } = "Item";
    
    [Parameter]
    public string Username { get; set; } = "";
    
    [Parameter]
    public string Url { get; set; } = "";
    
    [Parameter]
    public string Label { get; set; } = "";
    
    [Parameter]
    public string CreatedAt { get; set; } = "";
    
    [Parameter]
    public EventCallback OnClick { get; set; }
    
    private async Task HandleClick()
    {
        await OnClick.InvokeAsync();
    }
}
